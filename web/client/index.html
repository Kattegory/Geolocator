<!doctype html>
<html><head>
<meta charset="utf-8">
<title>Active Geolocation Experiment — Web-based Client</title>
<link rel="stylesheet" href="http://openlayers.org/en/v3.18.2/css/ol.css">
<link rel="stylesheet" href="../s/styles.css">
<link rel="stylesheet" href="client.css">
</head><body>
<h1>Active Geolocation Experiment — Web-based Client</h1>
<noscript>You must use a browser with JavaScript enabled for this
experiment.</noscript>
<main>

<form id="user_params">
<p>Please tell us the physical location of the computer running this
  web browser, in decimal degrees, with at least two decimal places of
  accuracy (that's half an arcminute, or roughly 1km of position
  uncertainty, depending on the latitude).  Use positive numbers for
  north of the Equator and east of Greenwich, negative numbers for
  south / west.  You can get this from a GPS device or an
  address-to-location service
  like <a href="http://www.latlong.net/">latlong.net</a>.</p>
<fieldset>
  <label for="client-lat">Client latitude:</label>
  <input name="client-lat" id="client-lat"
         type="number" min="-90" max="90" step="any" required>
  <label for="client-lon">Client longitude:</label>
  <input name="client-lon" id="client-lon"
         type="number" min="-180" max="180" step="any" required>
</fieldset>
<p>If you are using a network proxy, please tell us its physical
  location, too.</p>
<fieldset>
  <input type="radio" name="proxy-loc" id="proxy-no" value="no" checked>
  <label for="proxy-no">I'm not using a proxy</label><br>
  <input type="radio" name="proxy-loc" id="proxy-unknown" value="unknown">
  <label for="proxy-unknown">I don't know where the proxy is</label><br>
  <input type="radio" name="proxy-loc" id="proxy-coords" value="coords">
  <label for="proxy-coords">The proxy is at these coordinates:</label><br>
  <fieldset>
  <label for="proxy-lat">Proxy latitude:</label>
  <input name="proxy-lat" id="proxy-lat"
         type="number" min="-90" max="90" step="any" disabled>
  <label for="proxy-lon">Proxy longitude:</label>
  <input name="proxy-lon" id="proxy-lon"
         type="number" min="-180" max="180" step="any" disabled>
  </fieldset>
</fieldset>
<p id="will-geoloc">Part of the experiment is comparing where the
  browser thinks it is to where you say it is.  When you run the
  experiment, your browser will prompt you to reveal your location.</p>
<input type="hidden" name="browser-lat" id="browser-lat" value="">
<input type="hidden" name="browser-lon" id="browser-lon" value="">
<fieldset>
  <button id="go">Run the experiment</button>
</fieldset>
</form>
</main>
<div id="map" class="map"></div>
<pre id="log"></pre>
<script src="http://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
<script src="http://openlayers.org/en/v3.18.2/build/ol-debug.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.14/proj4.js"></script>
<script src="client.js"></script>
</body></html>
